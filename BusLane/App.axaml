<Application xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:converters="using:BusLane.Converters"
             xmlns:viewsConverters="using:BusLane.Views.Converters"
             x:Class="BusLane.App"
             RequestedThemeVariant="Default">
    <Application.Styles>
        <FluentTheme />
        <StyleInclude Source="avares://AvaloniaEdit/Themes/Fluent/AvaloniaEdit.xaml"/>
        <StyleInclude Source="/Styles/AppStyles.axaml"/>
    </Application.Styles>
    
    <!-- Fluent Design 2 Theme Resources -->
    <Application.Resources>
        <ResourceDictionary>
            
            <!-- Converters for Live Stream, Charts, and Alerts -->
            <converters:BoolToColorConverter x:Key="BoolToColorConverter"/>
            <converters:BoolToStatusColorConverter x:Key="BoolToStatusColorConverter"/>
            <converters:BoolToStatusTextConverter x:Key="BoolToStatusTextConverter"/>
            <converters:BoolToOpacityConverter x:Key="BoolToOpacityConverter"/>
            <converters:SeverityToColorConverter x:Key="SeverityToColorConverter"/>
            <converters:SeverityToBackgroundConverter x:Key="SeverityToBackgroundConverter"/>
            
            <!-- Grid Layout Converters -->
            <viewsConverters:GridColumnToWidthConverter x:Key="GridColumnToWidthConverter"/>
            <viewsConverters:GridRowToHeightConverter x:Key="GridRowToHeightConverter"/>
            
            <!-- Additional theme resources (legacy - prefer ThemeDictionaries) -->
            <SolidColorBrush x:Key="DangerBackground" Color="#D13438"/>
            <SolidColorBrush x:Key="SuccessForeground" Color="#107C10"/>

            <ResourceDictionary.ThemeDictionaries>
                <!-- Light Theme - Microsoft Fluent 2 Design -->
                <ResourceDictionary x:Key="Light">
                    <!-- Background and surface layers -->
                    <SolidColorBrush x:Key="AppBackground" Color="#F5F5F5"/>
                    <SolidColorBrush x:Key="AppForeground" Color="#242424"/>
                    <SolidColorBrush x:Key="SubtleForeground" Color="#616161"/>
                    <SolidColorBrush x:Key="MutedForeground" Color="#8A8A8A"/>
                    <SolidColorBrush x:Key="CardBackground" Color="#FFFFFF"/>
                    <SolidColorBrush x:Key="SidebarBackground" Color="#FAFAFA"/>
                    <SolidColorBrush x:Key="SurfaceSubtle" Color="#F9F9F9"/>

                    <!-- Border colors - Fluent 2 stroke tokens -->
                    <SolidColorBrush x:Key="BorderDefault" Color="#E0E0E0"/>
                    <SolidColorBrush x:Key="BorderStrong" Color="#C7C7C7"/>
                    <SolidColorBrush x:Key="BorderMuted" Color="#EBEBEB"/>

                    <!-- Brand accent colors - Fluent 2 brand ramp -->
                    <SolidColorBrush x:Key="AccentBrand" Color="#0F6CBD"/>
                    <SolidColorBrush x:Key="AccentBrandHover" Color="#115EA3"/>
                    <SolidColorBrush x:Key="AccentBrandPressed" Color="#0C4A7E"/>
                    <SolidColorBrush x:Key="TextOnBrand" Color="#FFFFFF"/>

                    <!-- Surface backgrounds with brand tint -->
                    <SolidColorBrush x:Key="SurfaceBrand" Color="#EBF3FC"/>
                    <SolidColorBrush x:Key="SurfaceBrandHover" Color="#D9EDFC"/>
                    <SolidColorBrush x:Key="SurfaceAccent" Color="#EBF3FC"/>

                    <!-- Semantic surface colors -->
                    <SolidColorBrush x:Key="SurfaceDanger" Color="#FDF3F4"/>
                    <SolidColorBrush x:Key="SurfaceSuccess" Color="#F1FAF1"/>
                    <SolidColorBrush x:Key="SurfaceWarning" Color="#FFF9F5"/>

                    <!-- Subtle semantic backgrounds for badges and indicators -->
                    <SolidColorBrush x:Key="AccentSubtle" Color="#EBF3FC"/>
                    <SolidColorBrush x:Key="SuccessSubtle" Color="#DFF6DD"/>
                    <SolidColorBrush x:Key="WarningSubtle" Color="#FFF4CE"/>
                    <SolidColorBrush x:Key="DangerSubtle" Color="#FDF3F4"/>

                    <!-- Semantic text colors - Fluent 2 status tokens -->
                    <SolidColorBrush x:Key="TextDanger" Color="#C50F1F"/>
                    <SolidColorBrush x:Key="TextDangerHover" Color="#A80000"/>
                    <SolidColorBrush x:Key="TextSuccess" Color="#0E700E"/>
                    <SolidColorBrush x:Key="TextSuccessHover" Color="#094509"/>
                    <SolidColorBrush x:Key="TextWarning" Color="#CA5010"/>
                    <SolidColorBrush x:Key="TextWarningHover" Color="#8E3A0B"/>

                    <!-- Interactive states - Fluent 2 subtle backgrounds -->
                    <SolidColorBrush x:Key="HoverBackground" Color="#0A000000"/>
                    <SolidColorBrush x:Key="PressedBackground" Color="#14000000"/>
                    <SolidColorBrush x:Key="SelectedBackground" Color="#EBF3FC"/>
                    <SolidColorBrush x:Key="SelectedBorder" Color="#0F6CBD"/>

                    <!-- Overlay and inputs - 50%/60% for consistent stepped opacity -->
                    <SolidColorBrush x:Key="ModalOverlay" Color="#80000000"/>
                    <SolidColorBrush x:Key="LoadingOverlay" Color="#99000000"/>
                    <SolidColorBrush x:Key="InputBackground" Color="#FFFFFF"/>

                    <!-- Tab, toolbar, and utility surfaces -->
                    <SolidColorBrush x:Key="TabNavBackground" Color="#F3F3F3"/>
                    <SolidColorBrush x:Key="TabItemHover" Color="#E8E8E8"/>
                    <SolidColorBrush x:Key="ToolbarHover" Color="#E8E8E8"/>
                    <SolidColorBrush x:Key="ToolbarPressed" Color="#D1D1D1"/>
                    <SolidColorBrush x:Key="PropertyRowBackground" Color="#FAFAFA"/>
                    <SolidColorBrush x:Key="PropertyRowHover" Color="#F0F0F0"/>
                    <SolidColorBrush x:Key="ChipBackground" Color="#EBEBEB"/>
                    <SolidColorBrush x:Key="ChipHover" Color="#E0E0E0"/>

                    <!-- Code editor -->
                    <SolidColorBrush x:Key="CodeBackground" Color="#1E1E1E"/>
                    <SolidColorBrush x:Key="CodeForeground" Color="#D4D4D4"/>
                    <SolidColorBrush x:Key="CodeBorder" Color="#3C3C3C"/>

                    <!-- Focus ring shadows -->
                    <BoxShadows x:Key="FocusRingAccent">0 0 0 2 #0F6CBD</BoxShadows>
                    <BoxShadows x:Key="FocusRingDanger">0 0 0 2 #C50F1F</BoxShadows>
                    <BoxShadows x:Key="FocusRingContrast">0 0 0 2 #FFFFFF</BoxShadows>
                </ResourceDictionary>

                <!-- Dark Theme - Microsoft Fluent 2 Design -->
                <ResourceDictionary x:Key="Dark">
                    <!-- Background layers - Fluent 2 elevation system -->
                    <SolidColorBrush x:Key="AppBackground" Color="#1C1C1C"/>
                    <SolidColorBrush x:Key="AppForeground" Color="#FFFFFF"/>
                    <SolidColorBrush x:Key="SubtleForeground" Color="#C8C8C8"/>
                    <SolidColorBrush x:Key="MutedForeground" Color="#A0A0A0"/>
                    <SolidColorBrush x:Key="CardBackground" Color="#292929"/>
                    <SolidColorBrush x:Key="SidebarBackground" Color="#1C1C1C"/>
                    <SolidColorBrush x:Key="SurfaceSubtle" Color="#242424"/>

                    <!-- Border colors - Fluent 2 stroke tokens for dark -->
                    <SolidColorBrush x:Key="BorderDefault" Color="#424242"/>
                    <SolidColorBrush x:Key="BorderStrong" Color="#5C5C5C"/>
                    <SolidColorBrush x:Key="BorderMuted" Color="#333333"/>

                    <!-- Brand accent colors - Fluent 2 brand ramp for dark mode -->
                    <SolidColorBrush x:Key="AccentBrand" Color="#60CDFF"/>
                    <SolidColorBrush x:Key="AccentBrandHover" Color="#8CD9FF"/>
                    <SolidColorBrush x:Key="AccentBrandPressed" Color="#3AA0F3"/>
                    <SolidColorBrush x:Key="TextOnBrand" Color="#000000"/>

                    <!-- Surface backgrounds with brand tint -->
                    <SolidColorBrush x:Key="SurfaceBrand" Color="#0F2D40"/>
                    <SolidColorBrush x:Key="SurfaceBrandHover" Color="#153D54"/>
                    <SolidColorBrush x:Key="SurfaceAccent" Color="#0F2D40"/>

                    <!-- Semantic surface colors - improved contrast -->
                    <SolidColorBrush x:Key="SurfaceDanger" Color="#442726"/>
                    <SolidColorBrush x:Key="SurfaceSuccess" Color="#283F2A"/>
                    <SolidColorBrush x:Key="SurfaceWarning" Color="#433519"/>

                    <!-- Subtle semantic backgrounds for badges and indicators -->
                    <SolidColorBrush x:Key="AccentSubtle" Color="#0F2D40"/>
                    <SolidColorBrush x:Key="SuccessSubtle" Color="#1E3A21"/>
                    <SolidColorBrush x:Key="WarningSubtle" Color="#3D3017"/>
                    <SolidColorBrush x:Key="DangerSubtle" Color="#3B2323"/>

                    <!-- Semantic text colors - Fluent 2 with better contrast -->
                    <SolidColorBrush x:Key="TextDanger" Color="#FF99A4"/>
                    <SolidColorBrush x:Key="TextDangerHover" Color="#FFC4CC"/>
                    <SolidColorBrush x:Key="TextSuccess" Color="#6CCB5F"/>
                    <SolidColorBrush x:Key="TextSuccessHover" Color="#92DD86"/>
                    <SolidColorBrush x:Key="TextWarning" Color="#FCE100"/>
                    <SolidColorBrush x:Key="TextWarningHover" Color="#FFEB3B"/>

                    <!-- Interactive states - Fluent 2 subtle overlays -->
                    <SolidColorBrush x:Key="HoverBackground" Color="#10FFFFFF"/>
                    <SolidColorBrush x:Key="PressedBackground" Color="#18FFFFFF"/>
                    <SolidColorBrush x:Key="SelectedBackground" Color="#0F2D40"/>
                    <SolidColorBrush x:Key="SelectedBorder" Color="#60CDFF"/>

                    <!-- Overlay and inputs - 60%/70% for consistent stepped opacity -->
                    <SolidColorBrush x:Key="ModalOverlay" Color="#99000000"/>
                    <SolidColorBrush x:Key="LoadingOverlay" Color="#B3000000"/>
                    <SolidColorBrush x:Key="InputBackground" Color="#333333"/>

                    <!-- Tab, toolbar, and utility surfaces -->
                    <SolidColorBrush x:Key="TabNavBackground" Color="#242424"/>
                    <SolidColorBrush x:Key="TabItemHover" Color="#333333"/>
                    <SolidColorBrush x:Key="ToolbarHover" Color="#333333"/>
                    <SolidColorBrush x:Key="ToolbarPressed" Color="#3D3D3D"/>
                    <SolidColorBrush x:Key="PropertyRowBackground" Color="#242424"/>
                    <SolidColorBrush x:Key="PropertyRowHover" Color="#2E2E2E"/>
                    <SolidColorBrush x:Key="ChipBackground" Color="#333333"/>
                    <SolidColorBrush x:Key="ChipHover" Color="#3D3D3D"/>

                    <!-- Code editor - improved dark theme -->
                    <SolidColorBrush x:Key="CodeBackground" Color="#1E1E1E"/>
                    <SolidColorBrush x:Key="CodeForeground" Color="#D4D4D4"/>
                    <SolidColorBrush x:Key="CodeBorder" Color="#3C3C3C"/>

                    <!-- Focus ring shadows -->
                    <BoxShadows x:Key="FocusRingAccent">0 0 0 2 #60CDFF</BoxShadows>
                    <BoxShadows x:Key="FocusRingDanger">0 0 0 2 #FF99A4</BoxShadows>
                    <BoxShadows x:Key="FocusRingContrast">0 0 0 2 #FFFFFF</BoxShadows>
                </ResourceDictionary>
            </ResourceDictionary.ThemeDictionaries>
        </ResourceDictionary>
    </Application.Resources>
</Application>
